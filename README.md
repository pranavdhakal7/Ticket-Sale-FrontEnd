

# Ethereum Ticket Sale System

## Description

This application allows users to interact with a smart contract to purchase, swap, resell, and return tickets. The smart contract is deployed on the Sepolia testnet, and the app provides functionality to manage tickets in a decentralized manner, leveraging Ethereum's blockchain and smart contract functionality.

---

## Features

- **Connect to MetaMask**: Allows the user to connect their Ethereum wallet to interact with the smart contract.
- **Purchase Tickets**: Buy a ticket by paying the specified ticket price.
- **Offer Ticket Swap**: Offer a ticket for swapping with another user's ticket.
- **Accept Ticket Swap**: Accept a swap offer made by another user.
- **Resell Tickets**: List tickets for resale at a specified price.
- **Return Tickets**: Return a ticket and receive a refund for the ticket price.
- **Transaction History**: Displays a history of all transactions, including purchases, swaps, resales, and returns.
  
---

## Smart Contract Details

**Network:** Sepolia Testnet  
**Contract Address:** `0xdA646dbC11F4b8A4e972bCC90758cBEd607707bd`  
**Solidity Version:** 0.8.28  

### Core Functions

- `buyTicket(uint ticketId)` – Buy a ticket with the specified ticket ID.
- `offerSwap(uint ticketId)` – Offer a ticket for swap.
- `acceptSwap(uint ticketId)` – Accept a ticket swap offer.
- `resaleTicket(uint price)` – Resell a ticket at a specified price.
- `acceptResale(uint index)` – Accept a resale offer for a ticket.
- `returnTicket()` – Return a ticket and get a refund.

---




## Getting Started

### Prerequisites

1. Install [MetaMask](https://metamask.io/) for managing your Ethereum wallet.
2. Set up a project environment.

### Installation

1. Clone the repository:

    ```bash
https://github.com/pranavdhakal7/Ticket-Sale-FrontEnd.git

cd ticket-sale-system 
         ---------cd ticket-sale-frontend
          ---------npm start 

2. Install dependencies:

    ```bash
    npm install
    ```

### Configure Environment

1. Create a `.env` file in the root of your project with the following content:

    ```env
    MNEMONIC=your_mnemonic_phrase
    INFURA_URL=your_infura_url
    ```

    Replace `your_mnemonic_phrase` with your wallet's mnemonic phrase and `your_infura_url` with your Infura URL for connecting to the Ethereum network.

### Development Tools

- **Solidity**: For writing smart contracts.
- **Web3.js**: For interacting with the Ethereum blockchain in JavaScript.
- **Ganache CLI**: For local blockchain development (optional).
- **Mocha**: For running tests.
- **Truffle HDWallet Provider**: For deploying contracts with an Ethereum wallet.

---

## Deployment

1. **Compile Contract**:

    To compile the smart contract, run:

    ```bash
    npm run compile
    ```

2. **Generate ABI and Bytecode**:

    Generate the ABI and bytecode by running:

    ```bash
    npm run generate
    ```

3. **Run Tests**:

    To run the contract tests:

    ```bash
    npm test
    ```

4. **Deploy Contract**:

    Deploy the contract to the Sepolia testnet:

    ```bash
    npm run deploy
    ```

    You should see the following output on successful deployment:

    ```bash
    Contract compiled successfully!
    MNEMONIC exists: true
    INFURA_URL exists: true
    Attempting to deploy from account 0x85D2Ed1b1D27E272EE05Fde256932D07990eB8B4
    Contract deployed to 0xdA646dbC11F4b8A4e972bCC90758cBEd607707bd
    ```

---

TASK :1 (Byte CODE )
0x6080604052600436106100e85760003560e01c80638da5cb5b1161008a578063a3c1a1fe11610059578063a3c1a1fe1461027b578063c4a4be831461029b578063dd11247e146102bd578063eb2dbcf6146102d357600080fd5b80638da5cb5b146101e45780638f15024f1461021c578063943ba21214610232578063a13f1c621461024557600080fd5b8063406b2c2c116100c6578063406b2c2c146101585780634a52bba514610178578063675b2e741461018d57806367dd74ca146101d157600080fd5b80630412f4ab146100ed5780631209b1f6146101205780631bf3300414610136575b600080fd5b3480156100f957600080fd5b5061010d610108366004610d75565b610309565b6040519081526020015b60405180910390f35b34801561012c57600080fd5b5061010d60015481565b34801561014257600080fd5b50610156610151366004610da5565b61035a565b005b34801561016457600080fd5b50610156610173366004610da5565b61052f565b34801561018457600080fd5b506101566105b5565b34801561019957600080fd5b506101ad6101a8366004610da5565b6106b3565b6040805193845260208401929092526001600160a01b031690820152606001610117565b6101566101df366004610da5565b6106ef565b3480156101f057600080fd5b50600054610204906001600160a01b031681565b6040516001600160a01b039091168152602001610117565b34801561022857600080fd5b5061010d60035481565b610156610240366004610da5565b6108a4565b34801561025157600080fd5b50610204610260366004610da5565b6005602052600090815260409020546001600160a01b031681565b34801561028757600080fd5b50610156610296366004610da5565b610bca565b3480156102a757600080fd5b506102b0610cf3565b6040516101179190610dbe565b3480156102c957600080fd5b5061010d60025481565b3480156102df57600080fd5b506102046102ee366004610da5565b6004602052600090815260409020546001600160a01b031681565b600060015b6002548111610351576000818152600460205260409020546001600160a01b038481169116141561033f5792915050565b8061034981610e36565b91505061030e565b50600092915050565b600061036533610309565b9050600081116103c65760405162461bcd60e51b815260206004820152602160248201527f596f75206e65656420746f206f776e2061207469636b657420746f20737761706044820152601760f91b60648201526084015b60405180910390fd5b6000828152600560205260409020546001600160a01b031661042a5760405162461bcd60e51b815260206004820152601e60248201527f4e6f2073776170206f6666657220666f722074686973207469636b65742e000060448201526064016103bd565b6000828152600560205260409020546001600160a01b031633141561049c5760405162461bcd60e51b815260206004820152602260248201527f43616e6e6f742061636365707420796f7572206f776e2073776170206f666665604482015261391760f11b60648201526084016103bd565b60008281526005602081815260408084208054600484528286208054336001600160a01b0319918216811790925588885284882080546001600160a01b03909416938216841790559689905294845281549095169055805186815291820185905283917f86427c235a24c7b70f880ae56d1226bece8b067e6184effbdde4d76f3312c0b6910160405180910390a3505050565b6000818152600460205260409020546001600160a01b031633146105955760405162461bcd60e51b815260206004820152601a60248201527f596f7520646f6e2774206f776e2074686973207469636b65742e00000000000060448201526064016103bd565b600090815260056020526040902080546001600160a01b03191633179055565b60006105c033610309565b90506000811161061c5760405162461bcd60e51b815260206004820152602160248201527f596f7520646f6e2774206f776e2061207469636b657420746f2072657475726e6044820152601760f91b60648201526084016103bd565b600081815260046020526040812080546001600160a01b0319169055600380549161064683610e51565b9091555050600154604051339180156108fc02916000818181858888f19350505050158015610679573d6000803e3d6000fd5b5060405181815233907f432384862bede852a59e22cb64d7e458b82d14cbf1efa96c31f1361c830e5b53906020015b60405180910390a250565b600681815481106106c357600080fd5b60009182526020909120600390910201805460018201546002909201549092506001600160a01b031683565b60008111801561070157506002548111155b6107425760405162461bcd60e51b815260206004820152601260248201527124b73b30b634b2103a34b1b5b2ba1024a21760711b60448201526064016103bd565b6000818152600460205260409020546001600160a01b03161561079e5760405162461bcd60e51b81526020600482015260146024820152732a34b1b5b2ba1030b63932b0b23c9039b7b6321760611b60448201526064016103bd565b60015434146107eb5760405162461bcd60e51b815260206004820152601960248201527824b731b7b93932b1ba103830bcb6b2b73a1030b6b7bab73a1760391b60448201526064016103bd565b6107f433610309565b156108415760405162461bcd60e51b815260206004820152601c60248201527f596f752063616e206f6e6c7920627579206f6e65207469636b65742e0000000060448201526064016103bd565b600081815260046020526040812080546001600160a01b03191633179055600380549161086d83610e36565b909155505060405181815233907f0668f5b446eb814fe35b3206f43f14bd8567ba04ddaf7a3ee56516929ab22ccb906020016106a8565b60065481106108f55760405162461bcd60e51b815260206004820152601c60248201527f496e76616c696420726573616c65207469636b657420696e6465782e0000000060448201526064016103bd565b60006006828154811061090a5761090a610e68565b6000918252602091829020604080516060810182526003909302909101805483526001810154938301849052600201546001600160a01b031690820152915034146109935760405162461bcd60e51b815260206004820152601960248201527824b731b7b93932b1ba103830bcb6b2b73a1030b6b7bab73a1760391b60448201526064016103bd565b61099c33610309565b156109e95760405162461bcd60e51b815260206004820152601c60248201527f596f752063616e206f6e6c7920627579206f6e65207469636b65742e0000000060448201526064016103bd565b6000600a82602001516109fc9190610e7e565b90506000818360200151610a109190610ea0565b835160009081526004602052604080822080546001600160a01b031916331790558086015190519293506001600160a01b03169183156108fc0291849190818181858888f19350505050158015610a6b573d6000803e3d6000fd5b50600080546040516001600160a01b039091169184156108fc02918591818181858888f19350505050158015610aa5573d6000803e3d6000fd5b5060068054610ab690600190610ea0565b81548110610ac657610ac6610e68565b906000526020600020906003020160068581548110610ae757610ae7610e68565b60009182526020909120825460039092020190815560018083015490820155600291820154910180546001600160a01b0319166001600160a01b039092169190911790556006805480610b3c57610b3c610eb7565b60008281526020808220600360001994909401938402018281556001810192909255600290910180546001600160a01b0319169055915560408481015185518684015183519182529381019390935233926001600160a01b03909116917f9e967d5e3b1b196566efdee7a38b55632febcec0cc17f0e23b220d3cd6d204b7910160405180910390a350505050565b6000610bd533610309565b905060008111610c315760405162461bcd60e51b815260206004820152602160248201527f596f7520646f6e2774206f776e2061207469636b657420746f20726573656c6c6044820152601760f91b60648201526084016103bd565b6040805160608101825291825260208201928352339082019081526006805460018101825560009190915291517ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f60039093029283015591517ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d4082015590517ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d4190910180546001600160a01b0319166001600160a01b03909216919091179055565b60606006805480602002602001604051908101604052809291908181526020016000905b82821015610d6c576000848152602090819020604080516060810182526003860290920180548352600180820154848601526002909101546001600160a01b0316918301919091529083529092019101610d17565b50505050905090565b600060208284031215610d8757600080fd5b81356001600160a01b0381168114610d9e57600080fd5b9392505050565b600060208284031215610db757600080fd5b5035919050565b602080825282518282018190526000919060409081850190868401855b82811015610e135781518051855286810151878601528501516001600160a01b03168585015260609093019290850190600101610ddb565b5091979650505050505050565b634e487b7160e01b600052601160045260246000fd5b6000600019821415610e4a57610e4a610e20565b5060010190565b600081610e6057610e60610e20565b506000190190565b634e487b7160e01b600052603260045260246000fd5b600082610e9b57634e487b7160e01b600052601260045260246000fd5b500490565b600082821015610eb257610eb2610e20565b500390565b634e487b7160e01b600052603160045260246000fdfea2646970667358221220374cf5d10dcfb3ed7bd5f0baed33246b11d84b8475c5a8acec5e2dce37f9bd2864736f6c63430008090033

## Author

**Pranav Dhakal**

---

## Notes

- This contract is deployed on the Sepolia testnet for testing purposes.
- For production use, additional security audits and optimizations are recommended.
